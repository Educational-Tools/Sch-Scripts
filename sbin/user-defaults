#!/bin/bash
export DISPLAY=:0


# Constants and variables
CONFIG_DIR="/usr/share/sch-scripts/configs" 
PYTHON_SCRIPT="/usr/share/sch-scripts/user_defaults.py"
if [[ -z "$USER" ]]; then
  USER=$(whoami)
  echo "Warning: \$USER variable not set, using current user: $USER" >&2
fi
if [ -z "$USER" ]; then
  echo "Error: No username provided or found." >&2
  exit 1
fi
if [ ! -f "$PYTHON_SCRIPT" ]; then
  echo "Error: Python script not found at $PYTHON_SCRIPT." >&2
  exit 1
fi
python3 "$PYTHON_SCRIPT" "$USER" "$CONFIG_DIR"
